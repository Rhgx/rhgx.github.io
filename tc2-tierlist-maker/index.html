<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="TC2 Tierlist Maker - Create and share your tier rankings">
    <!-- Discord / OpenGraph -->
    <meta content="TC2 Tierlist Maker" property="og:title" />
    <meta content="A tierlist maker for the Roblox game 'Typical Colors 2'." property="og:description" />
    <meta content="https://i.imgur.com/YoAihg6.png" property="og:image" />
    <meta content="#414254" data-react-helmet="true" name="theme-color" />
    <title>TC2 Tierlist Maker</title>
    <link rel="stylesheet" href="./styles/index.css">
    <!-- Coloris Color Picker -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mdbassit/Coloris@latest/dist/coloris.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/mdbassit/Coloris@latest/dist/coloris.min.js"></script>
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <!-- SortableJS for drag-and-drop -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.6/Sortable.min.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- WebGL Background Canvas -->
        <canvas id="shader-canvas"></canvas>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay" style="display: none;">
            <div class="loading-spinner"></div>
            <div class="loading-text">Loading...</div>
        </div>

        <!-- Main Menu View -->
        <div id="menu-view" class="view view--active">
            <div class="menu">
                <h1 class="menu__title">TC2 Tierlist Maker</h1>
                <div class="menu__subtitle">Select a tierlist</div>
                <div id="tierlist-buttons" class="menu__buttons">
                    <!-- Tierlist buttons will be injected here -->
                </div>
            </div>
        </div>

        <!-- Tierlist View -->
        <div id="tierlist-view" class="view">
            <!-- Header -->
            <header class="header">
                <button id="back-btn" class="btn btn--back">Back</button>
                <h1 id="tierlist-title" class="header__title">Tierlist</h1>
                <div class="header__actions">
                    <button id="edit-mode-btn" class="btn btn--edit"><i data-lucide="pencil"></i> Edit Tiers</button>
                    <button id="screenshot-btn" class="btn">Screenshot</button>
                </div>
            </header>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Tier Rows (dynamically generated) -->
                <div id="tier-container" class="tier-container">
                    <!-- Tier rows will be injected here -->
                </div>

                <!-- Add Tier Button (only visible in edit mode) -->
                <button id="add-tier-btn" class="btn btn--add-tier" style="display: none;">+ Add Tier</button>

                <!-- Image Pool -->
                <div class="pool-container">
                    <div class="pool-header">Available Items</div>
                    <div class="pool-items"></div>
                </div>
            </main>

            <!-- Footer Actions -->
            <footer class="footer">
                <button id="reset-btn" class="btn">Reset</button>
            </footer>
        </div>

        <!-- Edit Mode Panel (overlay) -->
        <div id="edit-panel" class="edit-panel" style="display: none;">
            <div class="edit-panel__content">
                <div class="edit-panel__header">
                    <h2>Edit Tiers</h2>
                    <button id="close-edit-btn" class="btn btn--small">Done</button>
                </div>
                <div id="edit-tiers-list" class="edit-tiers-list">
                    <!-- Tier edit rows will be injected here -->
                </div>
                <button id="add-tier-edit-btn" class="btn btn--add-tier">+ Add Tier</button>
            </div>
        </div>
        <!-- Screenshot Preview Modal -->
        <div id="screenshot-modal" class="modal">
            <div class="modal__content">
                <div class="modal__header">
                    <h2 class="modal__title">Screenshot Preview</h2>
                    <button id="close-screenshot-btn" class="btn btn--back btn--square">
                        <i data-lucide="x"></i>
                    </button>
                </div>
                <div class="modal__body">
                    <div class="screenshot-preview-container">
                        <img id="screenshot-preview" src="" alt="Screenshot Preview">
                    </div>
                    <div class="modal__actions">
                        <button id="copy-screenshot-btn" class="btn">
                            <i data-lucide="clipboard-copy"></i> Copy to Clipboard
                        </button>
                        <button id="download-screenshot-btn" class="btn">
                            <i data-lucide="download"></i> Download Image
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="./scripts/main.js"></script>
</body>

</html>