<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TC2 Time Calculator</title>
    <meta content="TC2 Time Calculator" property="og:title" />
    <meta content="A total time calculator for the Roblox game 'Typical Colors 2'." property="og:description" />
    <meta content="https://rhgx.github.io/tc2-time-calc/" property="og:url" />
    <meta content="https://i.imgur.com/YoAihg6.png" property="og:image" />
    <meta content="#a965da" data-react-helmet="true" name="theme-color" />
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            background-color: #745d8b;
            color: white;
            font-family: 'Oswald', sans-serif;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        @media (min-width: 576px) {
            .grid-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 768px) {
            .grid-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 992px) {
            .grid-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 1200px) {
            .grid-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .class-container {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
            background-color: #684888;
            border-radius: 8px;
        }

        .class-image {
            width: 40%;
            height: auto;
        }

        .output {
            color: #ffd700;
            font-size: 1.5rem;
        }

        .output-container {
            padding: 20px;
            border-radius: 8px;
            background-color: #684888;
            margin-top: 20px;
        }

        .btn-calculate {
            transform: scale(1.25);
        }

        .chart-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
    </style>
</head>

<body>
    <div class="container mt-4">
        <div class="grid-container">
            <div class="class-container" id="Flanker">
                <img src="https://static.wikia.nocookie.net/tc2/images/f/ff/GRNFlanker_render23.png" class="class-image"
                    alt="Flanker">
                <h5>Flanker</h5>
                <div class="input-group mb-3">
                    <input type="text" class="form-control time-input hours" placeholder="Hours">
                    <input type="text" class="form-control time-input minutes" placeholder="Minutes">
                    <input type="text" class="form-control time-input seconds" placeholder="Seconds">
                </div>
            </div>
            <div class="class-container" id="Trooper">
                <img src="https://static.wikia.nocookie.net/tc2/images/d/de/GRNTrooper_render23.png" class="class-image"
                    alt="Trooper">
                <h5>Trooper</h5>
                <div class="input-group mb-3">
                    <input type="text" class="form-control time-input hours" placeholder="Hours">
                    <input type="text" class="form-control time-input minutes" placeholder="Minutes">
                    <input type="text" class="form-control time-input seconds" placeholder="Seconds">
                </div>
            </div>
            <div class="class-container" id="Arsonist">
                <img src="https://static.wikia.nocookie.net/tc2/images/1/18/GRNArsonist_render23.png"
                    class="class-image" alt="Arsonist">
                <h5>Arsonist</h5>
                <div class="input-group mb-3">
                    <input type="text" class="form-control time-input hours" placeholder="Hours">
                    <input type="text" class="form-control time-input minutes" placeholder="Minutes">
                    <input type="text" class="form-control time-input seconds" placeholder="Seconds">
                </div>
            </div>
            <div class="class-container" id="Annihilator">
                <img src="https://static.wikia.nocookie.net/tc2/images/5/59/GRNAnnihilator_render23.png"
                    class="class-image" alt="Annihilator">
                <h5>Annihilator</h5>
                <div class="input-group mb-3">
                    <input type="text" class="form-control time-input hours" placeholder="Hours">
                    <input type="text" class="form-control time-input minutes" placeholder="Minutes">
                    <input type="text" class="form-control time-input seconds" placeholder="Seconds">
                </div>
            </div>
            <div class="class-container" id="Brute">
                <img src="https://static.wikia.nocookie.net/tc2/images/8/8a/GRNBrute_render23.png" class="class-image"
                    alt="Brute">
                <h5>Brute</h5>
                <div class="input-group mb-3">
                    <input type="text" class="form-control time-input hours" placeholder="Hours">
                    <input type="text" class="form-control time-input minutes" placeholder="Minutes">
                    <input type="text" class="form-control time-input seconds" placeholder="Seconds">
                </div>
            </div>
            <div class="class-container" id="Mechanic">
                <img src="https://static.wikia.nocookie.net/tc2/images/5/50/GRNMechanic_render23.png"
                    class="class-image" alt="Mechanic">
                <h5>Mechanic</h5>
                <div class="input-group mb-3">
                    <input type="text" class="form-control time-input hours" placeholder="Hours">
                    <input type="text" class="form-control time-input minutes" placeholder="Minutes">
                    <input type="text" class="form-control time-input seconds" placeholder="Seconds">
                </div>
            </div>
            <div class="class-container" id="Doctor">
                <img src="https://static.wikia.nocookie.net/tc2/images/3/34/GRNDoctor_render23.png" class="class-image"
                    alt="Doctor">
                <h5>Doctor</h5>
                <div class="input-group mb-3">
                    <input type="text" class="form-control time-input hours" placeholder="Hours">
                    <input type="text" class="form-control time-input minutes" placeholder="Minutes">
                    <input type="text" class="form-control time-input seconds" placeholder="Seconds">
                </div>
            </div>
            <div class="class-container" id="Marksman">
                <img src="https://static.wikia.nocookie.net/tc2/images/c/cc/GRNMarksman_render23.png"
                    class="class-image" alt="Marksman">
                <h5>Marksman</h5>
                <div class="input-group mb-3">
                    <input type="text" class="form-control time-input hours" placeholder="Hours">
                    <input type="text" class="form-control time-input minutes" placeholder="Minutes">
                    <input type="text" class="form-control time-input seconds" placeholder="Seconds">
                </div>
            </div>
            <div class="class-container" id="Agent">
                <img src="https://static.wikia.nocookie.net/tc2/images/6/62/GRNAgent_render23.png" class="class-image"
                    alt="Agent">
                <h5>Agent</h5>
                <div class="input-group mb-3">
                    <input type="text" class="form-control time-input hours" placeholder="Hours">
                    <input type="text" class="form-control time-input minutes" placeholder="Minutes">
                    <input type="text" class="form-control time-input seconds" placeholder="Seconds">
                </div>
            </div>
        </div>
        <div class="text-center mt-4">
            <button class="btn btn-success btn-calculate" onclick="calculateTotalTime(this); ">Calculate Total
                Time</button>
            <div id="output-container" class="output-container">
                <div id="output" class="mt-3 output"></div>
            </div>
        </div>
    </div>

    <div class="chart-container">
        <canvas id="timeChart"></canvas>
    </div>

    <script>
        function getTimeInput(hours, minutes, seconds) {
            return hours * 3600 + minutes * 60 + seconds;
        }

        function formatTime(totalSeconds) {
            const days = Math.floor(totalSeconds / 86400);
            totalSeconds %= 86400;
            const hours = Math.floor(totalSeconds / 3600);
            totalSeconds %= 3600;
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return { days, hours, minutes, seconds };
        }

        function calculateTotalTime(button) {
            const classes = ["Flanker", "Trooper", "Arsonist", "Annihilator", "Brute", "Mechanic", "Doctor", "Marksman", "Agent"];
            let totalSeconds = 0;
            let classTimes = [];

            classes.forEach(className => {
                const hours = document.querySelector(`#${className} .hours`).value || 0;
                const minutes = document.querySelector(`#${className} .minutes`).value || 0;
                const seconds = document.querySelector(`#${className} .seconds`).value || 0;
                const classTotal = getTimeInput(parseInt(hours), parseInt(minutes), parseInt(seconds));
                totalSeconds += classTotal;
                classTimes.push(classTotal / 3600);
            });

            const { days, hours, minutes, seconds } = formatTime(totalSeconds);
            const totalHours = hours + (days * 24);

            let output = `<p>Total time: ${totalHours} hours ${minutes} minutes ${seconds} seconds</p>`;
            if (days > 0) {
                output += `<p>Total time (days): ${days} days ${hours} hours ${minutes} minutes ${seconds} seconds</p>`;
            }
            document.getElementById("output").innerHTML = output;

            document.getElementById("output-container").scrollIntoView({ behavior: "smooth" });

            button.style.visibility = 'hidden';

            updateChart(classTimes);
        }

        function updateChart(data) {
            const ctx = document.getElementById('timeChart').getContext('2d');
            if (window.myChart) {
                window.myChart.destroy();
            }
            window.myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ["Flanker", "Trooper", "Arsonist", "Annihilator", "Brute", "Mechanic", "Doctor", "Marksman", "Agent"],
                    datasets: [{
                        label: 'Time Spent (Hours)',
                        data: data,
                        backgroundColor: 'rgba(207, 115 ,54, 0.6)',
                        borderColor: 'rgba(216, 143, 94, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Hours',
                                color: '#ffffff'
                            },
                            ticks: {
                                color: '#ffffff'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Class',
                                color: '#ffffff'
                            },
                            ticks: {
                                color: '#ffffff'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff'
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
